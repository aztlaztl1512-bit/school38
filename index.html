<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุญุฏู ุงููุฏุฑุงุช - ุงูุฎุทุฃ ุงูุณูุงูู ูููุฐุฌ 2 (ุชูููุฏู)</title>
    <style>
        :root { --primary: #1a252f; --secondary: #2980b9; --success: #27ae60; --danger: #c0392b; --gold: #f1c40f; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #eef2f3; margin: 0; padding: 20px; color: #2c3e50; }
        .container { max-width: 850px; margin: auto; background: white; padding: 40px; border-radius: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.15); border-top: 10px solid var(--primary); }
        .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #f1f1f1; padding-bottom: 20px; }
        .school-info { font-size: 1.4em; color: var(--secondary); font-weight: bold; margin-top: 5px; }
        .student-board { background: #f8f9fa; padding: 15px 25px; border-radius: 15px; margin-bottom: 25px; border-right: 8px solid var(--gold); display: flex; justify-content: space-between; align-items: center; }
        .timer-display { font-weight: bold; font-size: 1.5em; color: var(--primary); background: white; padding: 8px 20px; border-radius: 12px; border: 2px solid var(--secondary); }
        .timer-warning { color: var(--danger); border-color: var(--danger); animation: pulse 0.6s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        .question-box h3 { background: #fdfdfd; padding: 25px; border-radius: 15px; border: 2px dashed #dcdde1; margin-top: 0; font-size: 1.3em; line-height: 1.5; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; list-style: none; padding: 0; }
        .options-grid li { padding: 18px; border: 2px solid #edeff2; border-radius: 15px; cursor: pointer; text-align: center; transition: 0.3s; font-size: 1.1em; font-weight: 500; background: #fff; }
        .options-grid li.correct-flash { background: #d4edda !important; border-color: #28a745 !important; color: #155724 !important; }
        .options-grid li.selected { background: var(--secondary); color: white; border-color: var(--secondary); }
        .feedback { margin-top: 25px; padding: 20px; border-radius: 15px; display: none; font-size: 1.05em; border-right: 10px solid; }
        .btn { width: 100%; padding: 18px; border: none; border-radius: 12px; cursor: pointer; font-size: 20px; font-weight: bold; margin-top: 25px; transition: 0.3s; }
        .btn-start { background: var(--success); color: white; }
        .btn-next { background: var(--primary); color: white; }
        .footer-note { text-align: center; margin-top: 40px; padding-top: 25px; border-top: 2px solid #eee; color: #7f8c8d; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>๐ ุงูุฎุทุฃ ุงูุณูุงูู - ุงููุณุชูู ุงูุชูููุฏู (ูููุฐุฌ 2)</h1>
        <div class="school-info">ุซุงูููุฉ ุงูุฃููุฑ ุนุจุฏุงููุฌูุฏ ๐ซ๐</div>
        <div style="margin-top: 10px; font-size: 1.2em; color: #34495e;">ุฅุนุฏุงุฏ: ุฃ / ุนุจุฏุงูุนุฒูุฒ ุงููููู ๐จโ๐ซ</div>
    </div>

    <div id="start-screen">
        <p style="text-align: center; font-size: 1.2em;">ุงูุฒูู: 45 ุซุงููุฉ ููุณุคุงู. ูุฐุง ุงููููุฐุฌ ุตููู ููููู ุณููุงู ููุงุถุญุงู ูุจุฏุงูุฉ.</p>
        <input type="text" id="name-input" placeholder="ุงูุชุจ ุงุณูู ูููุดุงุฑูุฉ ูู ุงูุชุญุฏู..." style="width: 100%; padding: 18px; border-radius: 12px; border: 2px solid #ddd; margin-bottom: 20px; font-size: 16px; text-align: center;">
        <button class="btn btn-start" onclick="initQuiz()">ุงุจุฏุฃ ุงูุชูููุฏ โก</button>
    </div>

    <div id="quiz-ui" style="display:none;">
        <div class="student-board"><span id="student-tag"></span><div id="timer-text" class="timer-display">45 ุซ</div></div>
        <div id="quiz-content"></div>
        <button id="next-btn" class="btn btn-next" onclick="nextQuestion()" style="display:none;">ุงูุณุคุงู ุงูุชุงูู โฌ๏ธ</button>
    </div>

    <div id="results" style="display:none;">
        <h2 style="text-align: center; color: var(--success);">ุงูุชูู ุงููููุฐุฌ ุงูุชูููุฏู ุจูุฌุงุญ! ๐</h2>
        <div id="score-box" style="text-align: center; font-size: 2.2em; margin: 20px 0; font-weight: bold;"></div>
        <div id="summary-list"></div>
        <div class="footer-note">ุฃุญุณูุช ูุง ุจุทูุ ุฃูุช ุงูุขู ุฌุงูุฒ ูููุณุชููุงุช ุงููุชูุฏูุฉ ๐<br><strong>ุฃ / ุนุจุฏุงูุนุฒูุฒ ุงููููู</strong></div>
    </div>
</div>

<script>
const TIME_LIMIT = 45; 
const quizData = [
    { q: "ุงููุฌุชูุฏ ูุฑู ุงููุฌุงุญ ูุฑูุจุงูุ ูุงููุณูู ูุฑู ุงููุฌุงุญ ูุณุชุญููุงู ููุนูู ุนูู ุชุญูููู.", a: ["ุงููุฌุชูุฏ", "ูุฑูุจุงู", "ุงููุณูู", "ุชุญูููู"], c: 3, r: "ุงูุฎุทุฃ ูู ูููุฉ (ุชุญูููู)ุ ููู ูุฑู ุงูุดูุก ูุณุชุญููุงู ูุง ูุนูู ุนูู ุชุญูููู ุจู ูุชุฑูู. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงููุฑุงุกุฉ ุชูุชุญ ุขูุงู ุงูุนููุ ูุงูุฌูู ูุบูู ุฃุจูุงุจ ุงููุนุฑูุฉ.", a: ["ุชูุชุญ", "ุงูุนูู", "ูุบูู", "ุงููุนุฑูุฉ"], c: 0, r: "ุงูุฌููุฉ ุตุญูุญุฉุ ูููู ูู ุงููุฏุฑุงุช ูุฏ ุชุฃุชู (ุชุบูู) ุจุฏูุงู ูู (ุชูุชุญ) ูุชููู ูู ุงูุฎุทุฃ ุงูุณูุงูู. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ูู ุฃุฑุงุฏ ุฃู ูุญุจู ุงููุงุณ ูููุนุงูููู ุจุงููุณูุฉุ ููู ูุณุง ุนูู ุงููุงุณ ุฃุญุจูู.", a: ["ูุญุจู", "ุจุงููุณูุฉ", "ูุณุง", "ุฃุญุจูู"], c: 1, r: "ุงูุฎุทุฃ ูู (ุจุงููุณูุฉ)ุ ูุงูุตูุงุจ ูู (ุจุงูููู) ุฃู (ุจุงูุฅุญุณุงู). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุฃูุงูุฉ ุตูุฉ ุฌูููุฉุ ูุงูุฎูุงูุฉ ุตูุฉ ุฑุฐููุฉ ุชุฑูุน ูู ุดุฃู ุตุงุญุจูุง.", a: ["ุฌูููุฉ", "ุงูุฎูุงูุฉ", "ุฑุฐููุฉ", "ุชุฑูุน"], c: 3, r: "ุงูุฎุทุฃ ูู (ุชุฑูุน)ุ ูุงูุตูุงุจ (ุชููู) ุฃู (ุชุญุท)ุ ูุงูุฎูุงูุฉ ูุง ุชุฑูุน ุดุฃู ุฃุญุฏ. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุดูุณ ุชุดุฑู ูู ุงูุตุจุงุญ ูุชูุดุฑ ุงูุธูุงูุ ูุชุบูุจ ูู ุงููุณุงุก ููุนู ุงูููุฑ.", a: ["ุชุดุฑู", "ุงูุธูุงู", "ุชุบูุจ", "ุงูููุฑ"], c: 1, r: "ุงูุฎุทุฃ ูู (ุงูุธูุงู)ุ ูุงูุตูุงุจ (ุงูุถูุงุก) ุฃู (ุงูููุฑ). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุตุฏู ููุฌู ุตุงุญุจูุ ูุงููุฐุจ ูููู ุตุงุญุจูุ ูุงุฎุชุฑ ูู ุงูููู ุฃูุฐุจู.", a: ["ููุฌู", "ุตุงุญุจู", "ูููู", "ุฃูุฐุจู"], c: 3, r: "ุงูุฎุทุฃ ูู (ุฃูุฐุจู)ุ ูุงูุตูุงุจ ูู (ุฃุตุฏูู). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุนูู ุงูุฌุงุฏ ูุคุฏู ุฅูู ุงููุดูุ ูุงููุณู ูุคุฏู ุฅูู ุงููุฌุงุญ.", a: ["ุงูุฌุงุฏ", "ุงููุดู", "ุงููุณู", "ุงููุฌุงุญ"], c: 1, r: "ุงูุฎุทุฃ ูู (ุงููุดู)ุ ูุงูุตูุงุจ ูู (ุงููุฌุงุญ). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงููุนูู ุงููุฎูุต ูุจูู ุนููู ุงูุทูุงุจุ ูุงููุนูู ุงููููู ููุฏู ูุณุชูุงูู.", a: ["ุงููุฎูุต", "ูุจูู", "ุงููููู", "ููุฏู"], c: 0, r: "ูู ุงููุฏุฑุงุช ูุฏ ุชูุถุน ูููุฉ (ููุฏู) ุจุฏูุงู ูู (ูุจูู) ูู ุงูุดุทุฑ ุงูุฃูู ูุชููู ูู ุงูุฎุทุฃ. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ูู ุฒุงุฏ ุนููู ุฒุงุฏ ุญูุงุคูุ ููู ุฒุงุฏ ุฌููู ุฒุงุฏ ุบุฑูุฑู.", a: ["ุนููู", "ุญูุงุคู", "ุฌููู", "ุบุฑูุฑู"], c: 0, r: "ุงูุณูุงู ุณูููุ ูููู ูุฏ ูุชู ุงุณุชุจุฏุงู (ุนููู) ุจู (ูุงูู) ููููู ูู ุงูุฎุทุฃ ุญุณุจ ุงูุญููุฉ ุงููุดููุฑุฉ. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงููุงูุฏุงู ููุง ุฃุบูู ูุง ููููุ ูุนูููููุง ุทุฑูู ุฅูู ุงูุฌูุฉ.", a: ["ุฃุบูู", "ูููู", "ุนูููููุง", "ุงูุฌูุฉ"], c: 3, r: "ุงูุฎุทุฃ ูู (ุงูุฌูุฉ)ุ ูุงูุตูุงุจ ูู (ุงููุงุฑ). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุตุญุฉ ุชุงุฌ ุนูู ุฑุคูุณ ุงูุฃุตุญุงุกุ ูุง ูุฑุงู ุฅูุง ุงููุฑุถู.", a: ["ุชุงุฌ", "ุฑุคูุณ", "ูุฑุงู", "ุงููุฑุถู"], c: 2, r: "ุงูุณูุงู ุณููู ุชูุงูุงูุ ูููู ูุฏ ุชุฃุชู ูููุฉ (ุงูุฃุตุญุงุก) ูู ุขุฎุฑ ุงูุฌููุฉ ูุชููู ูู ุงูุฎุทุฃ. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ูู ุณุงุฑ ุนูู ุงูุฏุฑุจ ูุตูุ ููู ุฌูุณ ูู ููุงูู ุณุจู ุงูุฌููุน.", a: ["ุณุงุฑ", "ูุตู", "ุฌูุณ", "ุณุจู"], c: 3, r: "ุงูุฎุทุฃ ูู (ุณุจู)ุ ูุงูุตูุงุจ ูู (ุชุฎูู) ุฃู (ุชุฃุฎุฑ). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงููุงุก ุถุฑูุฑู ููุญูุงุฉุ ูุจุฏููู ุชููุช ุงููุงุฆูุงุช ูุชุฒุฏูุฑ ุงูุฃุฑุถ.", a: ["ุถุฑูุฑู", "ููุญูุงุฉ", "ุชููุช", "ุชุฒุฏูุฑ"], c: 3, r: "ุงูุฎุทุฃ ูู (ุชุฒุฏูุฑ)ุ ูุงูุตูุงุจ ูู (ุชุฌู) ุฃู (ุชููุช). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุงุจุชุณุงูุฉ ุจูุฌู ุฃุฎูู ุตุฏูุฉุ ูุงูุนุจูุณ ูู ูุฌูู ููุฑุจ ุงููููุจ.", a: ["ุงูุงุจุชุณุงูุฉ", "ุตุฏูุฉ", "ุงูุนุจูุณ", "ููุฑุจ"], c: 3, r: "ุงูุฎุทุฃ ูู (ููุฑุจ)ุ ูุงูุตูุงุจ ูู (ูููุฑ) ุฃู (ูุจุนุฏ). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุฑูุงุถุฉ ุชููู ุงูุฌุณูุ ูุงููุณู ูุถุนู ุงูุนุถูุงุช ููุฒูุฏ ูู ุงููุดุงุท.", a: ["ุชููู", "ุงููุณู", "ูุถุนู", "ุงููุดุงุท"], c: 3, r: "ุงูุฎุทุฃ ูู (ุงููุดุงุท)ุ ูุงูุตูุงุจ ูู (ุงูุฎููู). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูููู ุงููุจูุฑ ูููุฏ ููุฌุณูุ ูุงูุณูุฑ ุงูุทููู ูููู ูู ุงูุชุนุจ.", a: ["ุงููุจูุฑ", "ูููุฏ", "ุงูุณูุฑ", "ูููู"], c: 3, r: "ุงูุฎุทุฃ ูู (ูููู)ุ ูุงูุตูุงุจ ูู (ูุฒูุฏ). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุตุฏูุฉ ุชุจุงุฑู ูู ุงููุงูุ ูุงูุจุฎู ูุฒูุฏ ูู ุงูุจุฑูุฉ.", a: ["ุงูุตุฏูุฉ", "ุชุจุงุฑู", "ุงูุจุฎู", "ูุฒูุฏ"], c: 3, r: "ุงูุฎุทุฃ ูู (ูุฒูุฏ)ุ ูุงูุตูุงุจ ูู (ูููู) ุฃู (ููุญู). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุนูู ูุฑูุน ุจููุชุงู ูุง ุนูุงุฏ ููุงุ ูุงูุฌูู ููุฏู ุจููุช ุงูุนุฒ ูุงููุฑู.", a: ["ูุฑูุน", "ุนูุงุฏ", "ุงูุฌูู", "ููุฏู"], c: 0, r: "ูู ุงููุฏุฑุงุช ูุฏ ุชูุณุชุจุฏู (ูุฑูุน) ุจู (ููุฏู) ูุชููู ูู ุงูุฎุทุฃ. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ูู ูุทูุจ ุงูุนูุง ูุณูุฑ ุงูููุงููุ ููู ูุทูุจ ุงูุฑุงุญุฉ ููุงู ุงูููุงุฑ.", a: ["ุงูุนูุง", "ูุณูุฑ", "ุงูุฑุงุญุฉ", "ููุงู"], c: 3, r: "ุงูุณูุงู ุณูููุ ูููู ูุฏ ุชูุถุน (ูุณูุฑ) ุจุฏูุงู ูู (ููุงู) ูู ุงูุดุทุฑ ุงูุซุงูู ูุชููู ุฎุทุฃ. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุญุฑ ููู ุจูุนูุฏูุ ูุงูุฌุจุงู ููุฑุจ ูู ูุณุคูููุงุชู.", a: ["ุงูุญุฑ", "ููู", "ุงูุฌุจุงู", "ููุฑุจ"], c: 0, r: "ุงูุณูุงู ุณูููุ ูููู ูุฏ ุชูุณุชุจุฏู (ุงูุญุฑ) ุจู (ุงูุนุจุฏ) ูุชููู ูู ุงูุฎุทุฃ. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงููุธุงูุฉ ูู ุงูุฅููุงูุ ูุงููุฐุงุฑุฉ ูู ุตูุงุช ุงููุคูู ุงูุตุงูุญ.", a: ["ุงููุธุงูุฉ", "ุงูุฅููุงู", "ุงููุฐุงุฑุฉ", "ุงูุตุงูุญ"], c: 2, r: "ุงูุฎุทุฃ ูู (ุงููุฐุงุฑุฉ)ุ ูุงูุตูุงุจ ูู (ุงูุทูุงุฑุฉ) ุฅุฐุง ุฃุฑุฏูุง ุตูุฉ ุงููุคูู. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูููุช ูุงูุณูู ุฅู ูู ุชูุทุนู ูุทุนูุ ูุงุญุฑุต ุนูู ุฅุถุงุนุฉ ููุชู.", a: ["ูุงูุณูู", "ุชูุทุนู", "ุงุญุฑุต", "ุฅุถุงุนุฉ"], c: 3, r: "ุงูุฎุทุฃ ูู (ุฅุถุงุนุฉ)ุ ูุงูุตูุงุจ ูู (ุงุณุชุบูุงู) ุฃู (ุญูุธ). โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุณูุฑ ูุฒูุฏ ูู ุงูุฎุจุฑุฉุ ูุงูุจูุงุก ูู ุงูููุฒู ููุณุน ูุฏุงุฑู ุงูุฅูุณุงู.", a: ["ุงูุณูุฑ", "ูุฒูุฏ", "ุงูููุฒู", "ููุณุน"], c: 3, r: "ุงูุฎุทุฃ ูู (ููุณุน)ุ ูุงูุตูุงุจ ูู (ูุถูู) ููุงุฑูุฉ ุจุงูุณูุฑ. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ุงูุตุฏูู ููุช ุงูุถููุ ูุงูุนุฏู ููุช ุงูุฑุฎุงุก.", a: ["ุงูุตุฏูู", "ุงูุถูู", "ุงูุนุฏู", "ุงูุฑุฎุงุก"], c: 2, r: "ุงูุณูุงู ุณูููุ ูููู ูุฏ ุชูุถุน (ุงูุนุฏู) ุจุฏูุงู ูู (ุงูุตุฏูู) ูู ุจุฏุงูุฉ ุงูุฌููุฉ ูุชููู ุฎุทุฃ. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" },
    { q: "ูู ุบุดูุง ูููุณ ููุงุ ููู ุตุฏููุง ููู ุฃุบูู ุฃุญุจุงุจูุง.", a: ["ุบุดูุง", "ูููุณ", "ุตุฏููุง", "ุฃุบูู"], c: 2, r: "ุงูุฌููุฉ ุณูููุฉุ ูููู ูุฏ ูุชู ุงุณุชุจุฏุงู (ุตุฏููุง) ุจู (ูุฐุจูุง) ูุชููู ูู ุงูุฎุทุฃ ุงูุณูุงูู. โจ ุฃ / ุนุจุฏ ุงูุนุฒูุฒ ุงููููู ๐" }
];

let currentPos = 0, score = 0, stdName = "", records = [], timerId = null, timeLeft = TIME_LIMIT;

function initQuiz() {
    stdName = document.getElementById('name-input').value.trim();
    if(!stdName) return alert("ุงูุงุณู ูุทููุจ!");
    document.getElementById('start-screen').style.display = "none";
    document.getElementById('quiz-ui').style.display = "block";
    document.getElementById('student-tag').innerHTML = `๐ค ุงููุชุญุฏู: <strong>${stdName}</strong>`;
    renderQuestion();
}

function runTimer() {
    timeLeft = TIME_LIMIT;
    const timerBox = document.getElementById('timer-text');
    timerBox.innerText = `${timeLeft} ุซ`;
    timerBox.classList.remove('timer-warning');
    clearInterval(timerId);
    timerId = setInterval(() => {
        timeLeft--;
        timerBox.innerText = `${timeLeft} ุซ`;
        if(timeLeft <= 7) timerBox.classList.add('timer-warning');
        if(timeLeft <= 0) {
            clearInterval(timerId);
            handleTimeUp();
        }
    }, 1000);
}

function renderQuestion() {
    const data = quizData[currentPos];
    document.getElementById('quiz-content').innerHTML = `
        <div style="color:#7f8c8d; font-weight:bold; margin-bottom:15px;">ุงูุณุคุงู ${currentPos + 1} ูู ${quizData.length}</div>
        <div class="question-box"><h3>${data.q}</h3></div>
        <ul class="options-grid" id="opts">
            ${data.a.map((opt, i) => `<li id="opt-${i}" onclick="onSelect(this, ${i})">${opt}</li>`).join('')}
        </ul>
        <div id="fb" class="feedback"></div>
    `;
    document.getElementById('next-btn').style.display = "none";
    runTimer();
}

function onSelect(el, idx) {
    if(document.getElementById('next-btn').style.display === "block") return;
    clearInterval(timerId);
    const data = quizData[currentPos];
    const isCorrect = (idx === data.c);
    if(isCorrect) score++;
    records.push({q: data.q, user: data.a[idx], correct: data.a[data.c], isCorrect, r: data.r});
    showFeedback(isCorrect, data.r);
}

function handleTimeUp() {
    if(document.getElementById('next-btn').style.display === "block") return;
    const data = quizData[currentPos];
    const correctOption = document.getElementById(`opt-${data.c}`);
    correctOption.classList.add('correct-flash');
    records.push({q: data.q, user: "ุงูุชูู ุงูููุช", correct: data.a[data.c], isCorrect: false, r: data.r});
    showFeedback(false, "ุงูุชูู ุงูููุช! ูุงุญุธ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ.<br>" + data.r);
}

function showFeedback(isCorrect, reason) {
    const fb = document.getElementById('fb');
    fb.style.display = "block";
    fb.style.borderColor = isCorrect ? "var(--success)" : "var(--danger)";
    fb.style.background = isCorrect ? "#eafaf1" : "#fdedec";
    fb.innerHTML = `<strong>${isCorrect ? 'ุฃุญุณูุช! โ' : 'ุงูุชุจู.. โ'}</strong><br>${reason}`;
    document.getElementById('next-btn').style.display = "block";
}

function nextQuestion() {
    currentPos++;
    if(currentPos < quizData.length) renderQuestion();
    else finalize();
}

function finalize() {
    document.getElementById('quiz-ui').style.display = "none";
    document.getElementById('results').style.display = "block";
    document.getElementById('score-box').innerText = `ุงููุชูุฌุฉ: ${score} ูู ${quizData.length}`;
    let html = "<h4>ุชูุฑูุฑ ุชุญููู ุงูุฃุฏุงุก - ุงููุณุชูู ุงูุชูููุฏู:</h4>";
    records.forEach((rec, i) => {
        html += `<div style="padding:15px; border-bottom:1px solid #eee; margin-bottom:12px; border-radius:12px; background:#fdfdfd; border-right: 5px solid ${rec.isCorrect?'var(--success)':'var(--danger)'}">
            <strong>ุณ${i+1}. ${rec.q}</strong><br>
            ุงุฎุชูุงุฑู: <span style="color:${rec.isCorrect?'var(--success)':'var(--danger)'}">${rec.user}</span> | ุงูุตูุงุจ: <span style="color:var(--success)">${rec.correct}</span><br>
            <small>๐ก ุงูุดุฑุญ: ${rec.r}</small>
        </div>`;
    });
    document.getElementById('summary-list').innerHTML = html;
}
</script>
</body>
</html>